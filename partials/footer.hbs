<footer class="content outer">
    <!-- TAGS -->
    <div class="footer-tags">
     {{#get "tags" limit="8" order="count.posts desc" include="count.posts" filter="slug:-[notebook,books,artwork,albums,mix-tapes,broadcasts,design]"}}
            <div class="index">
    {{#foreach tags}}
        <div class="index-item" data-url="{{url}}">
            <span class="index-name">{{name}}</span>
            <span class="index-count">{{count.posts}}</span>
        </div>
    {{/foreach}}
</div>
        {{/get}}
    </div>
</footer>

<footer class="simple-footer">
    <div class="footer-name"><a href="{{@site.url}}">James A. Reeves</a></div>
    <div class="footer-links">
        <a href="{{@site.url}}/radio">Midnight Radio</a> • 
        <a href="{{@site.url}}/notebook">Notebook</a> • 
        <a href="{{@site.url}}/about">About</a> • 
        <a href="https://bsky.app/profile/jamesreeves.co" target="_blank">Bluesky</a>
    </div>
</footer>



{{!-- Footer Scripts --}}
<script src="{{asset "js/smartquotes.js"}}"></script>
<script>smartquotes();</script>
<script>


    document.addEventListener('DOMContentLoaded', () => {
    // Apply smartquotes to the entire document body
    smartquotes(document.body);

});


document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll('.radio-item[data-url]').forEach(item => {
        item.addEventListener('click', (e) => {
            // Don't trigger if clicking on an existing link
            if (e.target.tagName !== 'A') {
                window.location.href = item.dataset.url;
            }
        });
    });
});

document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll('.index-item[data-url]').forEach(item => {
        item.addEventListener('click', (e) => {
            // Don't trigger if clicking on an existing link
            if (e.target.tagName !== 'A') {
                window.location.href = item.dataset.url;
            }
        });
    });
});



    document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll('.js-tags .ft-item').forEach(function (el) {
            const count = parseInt(el.dataset.count, 10);
            if (count < 3) {
                el.remove(); // or el.style.display = 'none';
            }
        });
    });

document.addEventListener("DOMContentLoaded", function() {
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('is-visible');
      }
    });
  }, {
    threshold: 0.1
  });

  // Observe all recent radio items
  document.querySelectorAll('.radio-item').forEach(item => {
    observer.observe(item);
  });
  // Observe all footer tag items
  document.querySelectorAll('.index-item').forEach(item => {
    observer.observe(item);
  });
  // Also observe post titles
  document.querySelectorAll('.post-title').forEach(title => {
    observer.observe(title);
  });
});
</script>

<script>
document.querySelectorAll('.episode-number').forEach(function(el) {
    const raw = el.getAttribute('data-ep'); // Example: "hash-mr-14"
    if (raw && raw.startsWith('hash-mr-')) {
        const episodeNumber = raw.replace('hash-mr-', ''); // Remove "hash-mr-"
        el.textContent = `${episodeNumber}`; // Set visible text
    }
});
</script>